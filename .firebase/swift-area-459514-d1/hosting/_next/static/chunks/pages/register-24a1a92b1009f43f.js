(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{1484:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(7876),l=a(4232),s=a(870),n=a(9099),u=a(8230),d=a.n(u);function i(){let e=(0,n.useRouter)(),[t,a]=(0,l.useState)(""),[u,i]=(0,l.useState)(""),[o,p]=(0,l.useState)(""),[c,h]=(0,l.useState)("buyer"),[m,x]=(0,l.useState)(""),[g,b]=(0,l.useState)(!1),w=async a=>{a.preventDefault(),b(!0),x("");try{let a=new URLSearchParams;a.append("name",t),a.append("email",u),a.append("password",o),a.append("role",c);let r=await s.A.post("http://localhost:8000/auth/register",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});200===r.status&&e.push("/login")}catch(e){var r,l;x((null==e||null==(l=e.response)||null==(r=l.data)?void 0:r.detail)||"Registration failed")}finally{b(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("form",{onSubmit:w,className:"bg-white p-6 rounded shadow-md w-full max-w-sm",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Register"}),m&&(0,r.jsx)("p",{className:"text-red-500 mb-4 text-sm text-center",children:m}),(0,r.jsx)("input",{type:"text",placeholder:"Full Name",className:"border p-2 w-full mb-4 rounded",value:t,onChange:e=>a(e.target.value),required:!0}),(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2 w-full mb-4 rounded",value:u,onChange:e=>i(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"border p-2 w-full mb-4 rounded",value:o,onChange:e=>p(e.target.value),required:!0}),(0,r.jsxs)("select",{className:"border p-2 w-full mb-4 rounded",value:c,onChange:e=>h(e.target.value),children:[(0,r.jsx)("option",{value:"buyer",children:"Buyer"}),(0,r.jsx)("option",{value:"supplier",children:"Supplier"})]}),(0,r.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 w-full rounded hover:bg-green-700 transition",disabled:g,children:g?"Registering...":"Register"}),(0,r.jsxs)("p",{className:"mt-4 text-sm text-center",children:["Already have an account?"," ",(0,r.jsx)(d(),{legacyBehavior:!0,href:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})}},2790:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(1484)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2790)),_N_E=e.O()}]);