(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{5207:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(7876),r=s(9099),c=s(4232),i=s(8230),l=s.n(i),n=s(4587),d=s.n(n);function x(){let{query:e}=(0,r.useRouter)().query,[t,s]=(0,c.useState)([]),[i,n]=(0,c.useState)(!1),[x,p]=(0,c.useState)(null);return(0,c.useEffect)(()=>{e&&(n(!0),p(null),axios.get("".concat("https://comdex-api-test-375760843948.us-central1.run.app","/products/search?query=").concat(encodeURIComponent(e))).then(e=>s(e.data)).catch(()=>p("Failed to load search results")).finally(()=>n(!1)))},[e]),(0,a.jsxs)("div",{className:"px-4 py-6 max-w-6xl mx-auto",children:[(0,a.jsxs)("h1",{className:"text-2xl font-semibold mb-4",children:["Search results for “",e,"”"]}),i&&(0,a.jsx)("p",{children:"Loading…"}),x&&(0,a.jsx)("p",{className:"text-red-600",children:x}),!i&&!x&&0===t.length&&(0,a.jsxs)("p",{className:"text-gray-500",children:["No suppliers found for “",e,"”."]}),t.length>0&&(0,a.jsx)("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-auto",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:["Image","Product","Origin","Cost/kg","Supplier","Change %","Rating / 10","Details"].map(e=>(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.image_url?(0,a.jsx)(d(),{src:e.image_url.startsWith("http")?e.image_url:"".concat("https://comdex-api-test-375760843948.us-central1.run.app").concat(e.image_url),alt:e.title,width:40,height:40,className:"rounded"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"No Img"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.title}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.origin_country}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.price_per_kg.toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.owner_email}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:e.change_pct>=0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[(100*e.change_pct).toFixed(2),"%"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.rating.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,a.jsx)(l(),{href:"/products/".concat(e.id),className:"inline-block px-3 py-1 bg-primary hover:bg-primaryHover text-white rounded-full text-xs",children:"View"})})]},e.id))})]})})]})}},8732:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(5207)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(8732)),_N_E=e.O()}]);