(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{2068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(7876),o=r(4232),l=r(9099),d=r(870),n=r(9765);function s(){let e=(0,l.useRouter)(),{id:t}=e.query,[r,s]=(0,o.useState)({title:"",description:"",price_per_kg:"",origin_country:"",category:""}),[c,u]=(0,o.useState)(""),[i,p]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e&&t&&(async()=>{try{let r=await d.A.get("http://localhost:8000/products/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});s(r.data)}catch(e){u("❌ Failed to load product")}finally{p(!1)}})()},[t]);let h=e=>{s({...r,[e.target.name]:e.target.value})},g=async a=>{a.preventDefault();let o=localStorage.getItem("token");try{await axios.put("http://localhost:8000/products/".concat(t),r,{headers:{Authorization:"Bearer ".concat(o)}}),e.push("/dashboard")}catch(e){u("❌ Failed to update product")}};return i?(0,a.jsx)("div",{className:"p-6",children:"Loading product details..."}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)(n.A,{})," ",(0,a.jsxs)("div",{className:"max-w-xl mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"✏️ Edit Product"}),c&&(0,a.jsx)("p",{className:"text-red-500 mb-2",children:c}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",name:"title",value:r.title,onChange:h,className:"w-full border border-gray-300 p-2 rounded",placeholder:"Title",required:!0}),(0,a.jsx)("textarea",{name:"description",value:r.description,onChange:h,className:"w-full border border-gray-300 p-2 rounded",placeholder:"Description",rows:4,required:!0}),(0,a.jsx)("input",{type:"text",name:"category",value:r.category,onChange:h,className:"w-full border border-gray-300 p-2 rounded",placeholder:"Category",required:!0}),(0,a.jsx)("input",{type:"text",name:"origin_country",value:r.origin_country,onChange:h,className:"w-full border border-gray-300 p-2 rounded",placeholder:"Origin Country",required:!0}),(0,a.jsx)("input",{type:"number",name:"price_per_kg",value:r.price_per_kg,onChange:h,className:"w-full border border-gray-300 p-2 rounded",placeholder:"Price per kg",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 w-full",children:"✅ Update Product"})]})]})]})}},9894:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/edit/[id]",function(){return r(2068)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(9894)),_N_E=e.O()}]);