(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{953:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(7876),r=t(4232),l=t(8230),c=t.n(l);function d(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[d,n]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=localStorage.getItem("token");axios.get("http://localhost:8000/contracts/",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>s(e.data)).catch(e=>{var s,t;return n((null==(t=e.response)||null==(s=t.data)?void 0:s.detail)||"Failed to load contracts")}).finally(()=>l(!1))},[]),t)?(0,a.jsx)("p",{children:"Loading contractsâ€¦"}):d?(0,a.jsxs)("p",{className:"text-red-600",children:["Error: ",d]}):0===e.length?(0,a.jsx)("p",{children:"No contracts found."}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"My Contracts"}),(0,a.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-200",children:[(0,a.jsx)("th",{className:"border px-4 py-2",children:"ID"}),(0,a.jsx)("th",{className:"border px-4 py-2",children:"Prompt"}),(0,a.jsx)("th",{className:"border px-4 py-2",children:"Status"}),(0,a.jsx)("th",{className:"border px-4 py-2",children:"Created At"}),(0,a.jsx)("th",{className:"border px-4 py-2",children:"View"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,a.jsx)("td",{className:"border px-4 py-2",children:e.id}),(0,a.jsx)("td",{className:"border px-4 py-2",children:e.prompt}),(0,a.jsx)("td",{className:"border px-4 py-2",children:e.status}),(0,a.jsx)("td",{className:"border px-4 py-2",children:new Date(e.created_at).toLocaleString()}),(0,a.jsx)("td",{className:"border px-4 py-2",children:(0,a.jsx)(c(),{href:"/contracts/".concat(e.id),className:"text-blue-600 hover:underline",children:"View"})})]},e.id))})]})]})}},6993:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/contracts",function(){return t(953)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(6993)),_N_E=e.O()}]);