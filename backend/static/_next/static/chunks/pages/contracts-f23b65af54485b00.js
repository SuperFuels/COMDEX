(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{953:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(7876),r=a(4232),l=a(870),c=a(8230),n=a.n(c);function d(){let[e,t]=(0,r.useState)([]),[a,c]=(0,r.useState)(!0),[d,o]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async()=>{c(!0),o(null);let e=localStorage.getItem("token");if(!e){o("Not authenticated"),c(!1);return}try{let a=await l.A.get("/contracts/",{headers:{Authorization:"Bearer ".concat(e)}});t(a.data)}catch(e){var a,s;o((null==(s=e.response)||null==(a=s.data)?void 0:a.detail)||"Failed to load contracts")}finally{c(!1)}})()},[]),a)?(0,s.jsx)("p",{className:"text-center py-8",children:"Loading contractsâ€¦"}):d?(0,s.jsxs)("p",{className:"text-red-600 text-center py-8",children:["Error: ",d]}):0===e.length?(0,s.jsx)("p",{className:"text-center py-8",children:"No contracts found."}):(0,s.jsx)("main",{className:"mt-[-4rem] pt-0",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"My Contracts"}),(0,s.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-200",children:[(0,s.jsx)("th",{className:"border px-4 py-2 text-left",children:"ID"}),(0,s.jsx)("th",{className:"border px-4 py-2 text-left",children:"Prompt"}),(0,s.jsx)("th",{className:"border px-4 py-2 text-left",children:"Status"}),(0,s.jsx)("th",{className:"border px-4 py-2 text-left",children:"Created At"}),(0,s.jsx)("th",{className:"border px-4 py-2 text-left",children:"View"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,s.jsx)("td",{className:"border px-4 py-2",children:e.id}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.prompt}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.status}),(0,s.jsx)("td",{className:"border px-4 py-2",children:new Date(e.created_at).toLocaleString()}),(0,s.jsx)("td",{className:"border px-4 py-2",children:(0,s.jsx)(n(),{href:"/contracts/".concat(e.id),className:"text-blue-600 hover:underline",children:"View"})})]},e.id))})]})]})})}},6993:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/contracts",function(){return a(953)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6993)),_N_E=e.O()}]);