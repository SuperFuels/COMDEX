(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{2068:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(7876),o=t(4232),n=t(9099),i=t(870);function c(){let e=(0,n.useRouter)(),{id:r}=e.query,[t,c]=(0,o.useState)({title:"",description:"",price_per_kg:"",origin_country:"",category:""}),[l,s]=(0,o.useState)(null),[u,d]=(0,o.useState)(!0);(0,o.useEffect)(()=>{r&&(async()=>{d(!0);try{let{data:e}=await i.A.get("/products/".concat(r));c({title:e.title,description:e.description,price_per_kg:String(e.price_per_kg),origin_country:e.origin_country,category:e.category})}catch(e){console.error(e),s("❌ Failed to load product")}finally{d(!1)}})()},[r]);let p=e=>{c(r=>({...r,[e.target.name]:e.target.value}))},g=async a=>{a.preventDefault(),s(null);try{await i.A.put("/products/".concat(r),{title:t.title,description:t.description,price_per_kg:parseFloat(t.price_per_kg),origin_country:t.origin_country,category:t.category}),e.push("/dashboard")}catch(e){console.error(e),s("❌ Failed to update product")}};return u?(0,a.jsx)("p",{className:"p-6 text-center",children:"Loading product details…"}):(0,a.jsx)("main",{className:"min-h-screen bg-gray-100 pt-0",children:(0,a.jsxs)("div",{className:"max-w-xl mx-auto mt-4 p-6 bg-white rounded shadow",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"✏️ Edit Product"}),l&&(0,a.jsx)("p",{className:"text-red-500 mb-4",children:l}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsx)("input",{name:"title",value:t.title,onChange:p,placeholder:"Title",required:!0,className:"w-full border p-2 rounded"}),(0,a.jsx)("textarea",{name:"description",value:t.description,onChange:p,placeholder:"Description",rows:4,required:!0,className:"w-full border p-2 rounded"}),(0,a.jsx)("input",{name:"category",value:t.category,onChange:p,placeholder:"Category",required:!0,className:"w-full border p-2 rounded"}),(0,a.jsx)("input",{name:"origin_country",value:t.origin_country,onChange:p,placeholder:"Origin Country",required:!0,className:"w-full border p-2 rounded"}),(0,a.jsx)("input",{name:"price_per_kg",type:"number",step:"0.01",value:t.price_per_kg,onChange:p,placeholder:"Price per kg",required:!0,className:"w-full border p-2 rounded"}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"✅ Update Product"})]})]})})}},9099:(e,r,t)=>{e.exports=t(8253)},9894:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/edit/[id]",function(){return t(2068)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(9894)),_N_E=e.O()}]);